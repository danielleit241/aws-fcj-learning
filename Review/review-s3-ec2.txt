STORAGE AND COMPUTE AWS - CÁC DỊCH VỤ LƯU TRỮ VÀ TÍNH TOÁN CỦA AWS

1. TỔNG QUAN VỀ HỆ THỐNG LƯU TRỮ TRÊN AWS

- AMAZON S3: DỊCH VỤ LƯU TRỮ DẠNG OBJECT (ĐẶC BIỆT) -> TRIỂN KHAI VÀ XÂY DỰNG NỀN TẢNG TRÊN AWS -> TRIỂN KHAI NHỮNG FILE TĨNH, ẢNH, VIDEO 

- TA MUA ĐĨA CỨNG VÀ GẮN ĐĨA CỨNG VÀO -> MOUNT VÀO OS -> THUỘC NHÓM LƯU TRỮ BLOCK (AMAZON EBS) -> KHI TẠO EC2 SẼ LUÔN CÓ EBS 

- TRONG TRƯỜNG HỢP CHẠY FILE SERVER CHIA SẺ CHO CÁC MÁY CHỦ
	+ AMAZON FSx FOR WINDOW FILE SERVER
	+ AMAZON EFS
	+ AMAZON FSx FOR LUSTRE

- DỊCH VỤ GIÚP TA QUẢN LÝ VIỆC SAO LƯU MỘT CÁCH TẬP TRUNG -> HỆ THỐNG TƯƠNG QUAN VÀ LIÊN QUAN ĐẾN NHAU -> HOẶC SAO LƯU THEO THỨ TỰ -> ĐẢM BẢO HỆ THỐNG MỖI NGÀY ĐỀU CÓ BẢN SAO LƯU
	+ AMAZON BACKUP (MIỄN PHÍ -> TÍNH TIỀN LƯU LƯỢNG SỬ DỤNG)

- DATA TRANFERS AND EDGE PROCESSING
	+ CHUYỂN DỮ LIỆU TỪ ONPREMISE -> AWS
	+ CHUYỂN DỮ LIỆU TỪ ACCOUNT NÀY -> ACCOUNT KHÁC

- KHI NÓI VỀ CÁC DỊCH VỤ LƯU TRỮ THÌ PHẢI ĐI SONG SONG VỚI MỨC ĐỘ PHÙ HỢP -> VÀ KHI ĐÃ PHÙ HỢP RỒI THÌ TA CŨNG PHẢI PHÂN TÍCH NHU CẦU SỬ DỤNG -> PHÂN TÍCH HIỆU XUẤT VÀ HIỆU NĂNG
	
	+ BACKUP, RESTORE, ARCHIVE DATA 
		-> ALL BACKUP & ARCHIVE -> AWS STORAGE GATEWAY, S3
			- HẦU HẾT MỌI TRƯỜNG HỢP ĐỀU SỬ DỤNG S3
			- NHƯNG NẾU TA MUỐN BACKUP TỪ ONPREMISE LÊN AWS THÌ TA CÓ THỂ DÙNG AWS STORAGE GATEWAY
		-> DATABASE BACKUP -> AMAZON FSx, Amazon EFS

	+ HOME DIRECTORIES 
		-> FSx, EFS
	
	+ DATA LAKES: 
		- Ở MÔI TRƯỜNG TRUYỀN THỐNG THÌ THƯỜNG DỮ LIỆU SẼ Ở DẠNG BẢNG VÀ CỘT -> CHUYỂN SANG DATA WAREHOUSE ĐỂ PHÂN TÍCH DỮ LIỆU
		-> HIỆN TẠI VỚI NHU CẦU PHÂN TÍCH DỮ LIỆU TỪ NHIỀU NGUỒN KHÁC NHAU (KO CHỈ DUY NHẤT DỮ LIỆU DẠNG BẢNG CỘT) CÓ THỂ LÀ FILE LOGS, HÀNH VI, CRAW, ... -> TA SẼ CẦN MỘT NƠI CHỨA TẠM NHỮNG DỮ LIỆU TẬP TRUNG NÀY -> TÍCH HỢP VỚI CÁC DỊCH VỤ PHÂN TÍCH DỮ LIỆU HOẶC ML

	+ MODERN APPLICATION: SERVERLESS

	+ ĐỐI VỚI NHỮNG ỨNG DỤNG YÊU CẦU ĐẢM BẢO HIỆU NĂNG CAO, ... NHỮNG DỊCH VỤ BUSINESS-CRITICAL APPLICATIONS, NHƯ CORE BANKING -> THƯỜNG THẤY NHẤT LÀ BLOCK STORAGE

- SIMPLE STORAGE SERVICE (S3):
	- S3 LÀ MỘT DỊCH TẠO NÊN TIÊU CHUẨN VÀNG (GOLDEN STANDARD) -> ĐƯỢC BẮT CHƯỚC BỞI CÁC ĐỐI THỦ CỦA AWS
	- ĐIỂM MẠNH CỦA S3 TẬP TRUNG VÀO ĐỘ BỀN DỮ LIỆU, VÀ TÍNH SẴN SÀNG CAO, VÀ KHẢ NĂNG MỞ RỘNG CỰC KÌ LỚN
	-> ĐỐI VỚI S3 CÓ THỂ SCALE LÊN ĐẾN BETABYTES EXABYTES MÀ KHÔNG CÓ DOWN TIME CHO VIỆC SCALE NÀY

	-> VỀ MẶT TỔ CHỨC DỮ LIỆU -> TOÀN BỘ DỮ LIỆU SẼ DÀN NẰM NGANG MÀ KHÔNG PHÂN CẤP CÂY THƯ MỤC
		-> Ở TRÊN THÌ NHÌN NHƯ 1 THỂ THỐNG NHẤT
		-> Ở DƯỚI NẰM NHIỀU TRÊN STORAGE NODE KHÁC NHAU
	-> PHÂN TÍCH DỮ LIỆU TRỰC TIẾP VÀO CÁC FILE DỮ LIỆU BÊN TRONG S3 CỰC KÌ DỄ DÀNG 

	- VỀ ĐỘ BỀN DỮ LIỆU CỦA S3: 99,999999999% (S3 CÓ TÊN GỌI NHƯ THẾ VÌ NÓ CÓ 3 BẢN COPY NẰM Ở 3 AZS KHÁC NHAU)

- DATA TRANSFER
	+ DIRECT CONNECT: THIẾT LẬP KÊNH HYBIRD TỪ MÔI TRƯỜNG ON-PREMISE -> AWS
	+ AMAZON S3 TRANSFER ACCELERATION -> UPLOAD LÊN EDGE LOCATIONS -> AWS -> TĂNG TỐC ĐỘ FILE LÊN AWS

- BẢO MẬT TRONG S3
	- AWS TRUSTED ADVISOR: LÀ MỘT CÔNG CỤ SCAN XEM CÁC CẤU HÌNH CÓ VẤN ĐỀ GÌ VỀ BẢO MẬT KO, CÓ MÁY CHỦ NÀO CHƯA TẮT HAY K, HAY CÓ MÁY CHỦ NÀO CHẠY DƯỚI TẢI K
	- MÃ HÓA: MUỐN TRUY CẬP VÀO DỮ LIỆU THÌ CẦN PHẢI CÓ KEY MỚI VÀO ĐƯỢC
	- QUẢN LÝ PERMISSION 

- S3 CÓ THỂ HOSTED CÁC STATIC WEBSITE
	-> S3 - BLOCK PUBLIC ACCESS - CLOUDFRONT -> INTERNET

- ĐỐI VỚI CẤU TRÚC CỦA S3 -> TẠO RA MỘT S3 BUCKET -> ĐỔ DỮ LIỆU VÀO THÌ TẤT CẢ NGĂNG HÀNG VỚI NHAU 
	-> HỒI XƯA TA MUỐN CHIA SẺ DỮ LIỆU CHO MỖI TEAM -> CẦN PHẢI TẠO MỖI BUCKET
	-> BÂY GIỜ THÌ CÓ KHÁI NIỆM ACCESS POINT -> GIÚP TA TẠO CẤP THẤP HƠN CHO TỪNG TEAM VÀ TRỎ TỚI CÙNG MỘT S3 BUCKET

- S3 STORAGE CLASSES:
	+ S3 STANDARD
	+ S3 INTELLIGENT-TIERING
		-> TÍNH NĂNG THÔNG MINH -> KHÔNG QUAN TÂM ĐẾN SIZE CỦA S3 QUÁ NHỎ THÌ TA ĐỂ TRONG NÀY
		-> TÙY THUỘC VÀO FILE REQUEST THÌ NÓ SẼ ĐỂ FILE ĐÓ Ở STANDARD VÀ STANDARD-IA
	+ S3 STANDARD-IA
	+ S3 ONE ZONE-IA
	+ S3 GLACIER
	+ S3 GLACIER DEEP ARCHIVE
	-> GIÁ CÀNG THẤP TÍNH TỪ TRÊN XUỐNG DƯỚI
	-> TA CÓ THỂ SETUP MỘT OBJECT LIFECYCLE CHO VIỆC TỐI ƯU HÓA LƯU TRỮ DỮ LIỆU -> LƯU TRỮ TẦNG STORAGE CLASS THẤP HƠN -> TRUY CẬP DỮ LIỆU CÀNG KHÓ 


- STORAGE GATEWAY 
	+ VÌ CHƯA CÓ TRUNG TÂM DỮ LIỆU FILE DỮ LIỆU ĐẶT Ở MÔI TRƯỜNG ONPREMISE -> TA MUỐN ĐẨY BỚT DỮ LIỆU TỪ MÔI TRƯỜNG ON-PREMISE LÊN CLOUD ĐỂ LƯU TRỮ MỘT CÁCH AN TOÀN 
	=> HYBIRD CLOUD (TẬN DỤNG DỊCH VỤ LƯU TRỮ CỰC KÌ AN TOÀN TRÊN AWS)
	-> MỘT PHẦN MỞ RỘNG, MỘT PHẦN SỬ DỤNG SAU THẢM HỌA HOẶC MIGRATION LÊN MÔI TRƯỜNG AWS
	
	- Ở MÔI TRƯỜNG ONPREMISE THÌ TA CÓ MỘT MÁY CHỦ ẢO -> ĐEM MÁY CHỦ ẢO NÀY VỀ CÀI VỀ MÔI TRƯỜNG VMWARE HOẶC EC2 INSTANCE -> CẤU HÌNH TẠO RA CÁC VOLUME SẼ ĐƯỢC MAP VÀO MÁY CHỦ - BACKUP
		-> TỪ NHỮNG MÁY CHỦ THÌ TA ĐẨY DỮ LIỆU LÊN STORAGE GATEWAY -> ĐƯỢC UPLOAD VÀO CÁC DỊCH VỤ LƯU TRỮ CỦA AWS

	- CÓ 3 LOẠI STORAGE GATEWAY:
		+ FILE GATEWAY -> PHÌ HỢP CHO NHỮNG ỨNG DỤNG SỬ DỤNG FILE VÀ KHÔNG CÓ SỰ THAY ĐỔI LIÊN TỤC TRÊN FILE ĐÓ
			-> PROTOCAL NFS/SMB

		+ VOLUME GATEWAY -> BLOCK STORAGE Ở MÔI TRƯỜNG ON PREMISE -> KHI AWS SẼ CHUYỂN ĐỔI THÀNH CÁC EBS SẼ ĐƯỢC GÁN THẲNG VÀO CÁC MÁY CHỦ AMAZON EC2 (SAN-LIKE WITH CLOUD RECOVERY)
			-> PROTOCAL ISCSI

		+ TAPE GATEWAY -> THAY THẾ CÁC THIẾT BỊ HẠ TẦNG BĂNG TỪ VẬT LÝ -> KHÔNG SỬ DỤNG BĂNG TỪ NỮA
		+ TAPE GATEWAY

- AWS BACKUP: LÀ MỘT GIẢI PHÁP SAO LƯU TẬP TRUNG GIÚP CHÚNG TA LÊN LỊCH BACKUP NHƯ THẾ NÀO, LÚC NÀO, QUẢN LÝ CÁC BẢN BACKUP -> MẤU CHỐT KHẢ NĂNG SAO LƯU VÀ PHỤC HỒI SẼ NẰM Ở TỪNG DỊCH VỤ
	- MỖI DỊCH VỤ LIÊN QUAN ĐẾN DỮ LIỆU CỦA AWS CŨNG SẼ CÓ MỘT PHẦN BACKUP RIÊNG -> KHẢ NĂNG SAO LƯU NHƯ THẾ NÀO THÌ ĐÓ LÀ DO DỊCH VỤ ĐÓ QUYẾT ĐỊNH
	- AWS BACKUP ĐÓNG VAI TRÒ LÀ CENTRALIZED BACKUP -> QUẢN LÝ TẬP TRUNG DỄ DÀNG THEO DÕI VÀ GHI LOGS

2. EC2 OVERVIEW - MÁY CHỦ ẢO EC2

- COMPUTES:
	- EC2 - INSTANCE
	- ECS/EKS AND FARGATE - CÁC OPTIONS ĐỂ CHẠY CONTAINER
	- AWS LAMBDA - DỊCH VỤ CHẠY SERVERLESS

- EC2
	+ NHÓM OS: LINUX, WIN, MACOS
	+ KIẾN TRÚC: x86 Intel, ARM (tối ưu về chi phí nhất ~ 40%)
	+ INSTANCE TYPE ĐƯỢC CHIA LÀM NHIỀU FAMILY -> TỐI ƯU VÀ PHÙ HỢP CHO KHỐI LƯỢNG WORKLOAD KHÁC NHAU
	
	+ AMIS - AMAZON MACHINE IMAGES (DÙNG CÓ SẴN, TỰ CUSTOMIZE, DÙNG TỪ COMMUNITY) -> LÀ MỘT BẢN CHUẨN CỦA HỆ ĐIỀU HÀNH, LÀ MỘT CLONE CỦA MÁY CHỦ ẢO -> TỪ TEMPLATE ĐÓ TA CÓ THỂ KHỞI TẠO VÀ CLONE THÀNH NHIỀU MÁY CHỦ
	+ PURCHASE OPTIONS:
		+ ON-DEMAND - DÙNG NHIÊU TRẢ NHIÊU
		+ REVERSE INSTANCE - TRẢ TRƯỚC 1-3 NĂM
		+ SPOT - THUÊ TÀI NGUYÊN TẠM

- EC2 KEYPAIR: MỤC ĐÍCH LÀ MÃ HÓA THÔNG TIN ĐĂNG NHẬP VÀO EC2
	+ LINUX: SSH -> TỚI MÁY CHỦ
	+ WINDOW -> GIẢI MÃ KEY -> REMOTE DESKTOP TỚI MÁY CHỦ

- EC2 NAMING EXPLAINED: c5n.xlarge
	+ c: instance family 
	+ 5: instance generation
	+ n: attribute
	+ xlarge: instance size
	-> càng về đời càng cao thì giá sẽ càng rẻ

- AWS COMPUTE OPTIMIZER
	+ MONITOR NHỮNG MÁY CHỦ ẢO -> ĐƯA RA NHỮNG SUGGEST TỪ CẤU HÌNH HIỆN TẠI -> CẤU HÌNH NHỎ HƠN HAY KHÔNG ĐỂ TỐI ƯU CHI PHÍ

- CONTAINER TECHNOLOGY:
	+ MỤC TIÊU CỦA DỊCH VỤ CONTAINER CỦA AWS CUNG CẤP -> QUẢN LÝ 1 CONTAINER Ở LOCAL THÌ ĐƠN GIẢN -> NHƯNG NHIỀU CONTAINER THÌ CỰC KÌ PHỨC TẠP
	=> AWS CHO TA 2 LỰA CHỌN KHI SỬ DỤNG DỊCH VỤ CONTAINER:	
		+ ECS -> TẬP TRUNG VÀO SỰ ĐƠN GIẢN
			QUẢN LÝ ĐƯỢC ECS CLUSTER -> THỜI GIAN BỎ RA ĐỂ HỌC THẤP HƠN SO VỚI ECS 
			ĐƯỢC SỬ DỤNG BỞI NHIỀU TỔ CHỨC LỚN VẤN SỬ DỤNG ECS

		+ EKS -> TẬP TRUNG VÀO SỰ LINH HOẠT
			TA CÓ THỂ SỬ DỤNG PLUGIN VÀ CÁC TÍNH NĂNG CÓ THỂ NHIỀU HƠN ECS -> CẦN CÓ CÔNG SỨC CŨNG NHƯ ĐỘI NGŨ CÓ KĨ NĂNG ĐỂ QUẢN LÝ
		
- AWS FARGATE:
	- HANDLE SCALE -> TĂNG MÁY CHỦ ẢO KHI VƯỢT QUÁ NHU CẦU SỬ DỤNG
		-> THÊM MÁY CHỦ ẢO CHO CONTAINER THÌ THAY VÌ TA TỰ SCALE -> GIAO PHÓ HẾT CHO FARGATE 
		-> TÍNH TIỀN THEO SỐ LƯỢNG CONTAINER SỬ DỤNG MÀ KHÔNG CẦN PHẢI QUẢN LÝ CLUSTER NỮA

- CONTAINER REGISTRY - AMAZON ECR:
	+ ĐƯỢC QUẢN LÝ HOÀN TOÀN BỞI AWS


